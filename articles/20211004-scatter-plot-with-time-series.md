---
title: "tableauで時間の軸の見える散布図を作る" # 記事のタイトル
emoji: "📈" # アイキャッチとして使われる絵文字（1文字だけ）
type: "tech" # tech: 技術記事 / idea: アイデア記事
topics: ["BigQuery","Tableau"] # タグ。["markdown", "rust", "aws"]のように指定する
published: false # 公開設定（falseにすると下書き）
---

# ページ機能に履歴をつける
`ページ` を利用して、 `履歴の表示` をつけると、以下のような散布図を作ることができます。

![](/images/scatter-plot-with-time-series.png)
https://public.tableau.com/views/scatter-plot-with-time-series/sample?:language=ja-JP&:display_count=n&:origin=viz_share_link

# モチベーション
## ビジネスの分析には時間的な変化が大事
分析とは、
1. 現状を分析し、何かしらのアクションを起こす
2. アクションを起こした結果、良くなったのかどうかを振り返る
3. 振り返りに基づいて、次のアクションを起こす
という作業の繰り返しです。
つまり、アクションを起こす前と後で、時系列で比較して分析することが必須です。

## ビジネスの分析には相関が大事
事業の指標には、売上高などの遅行指標と、広告キャンペーン数などの先行指標があります。  
事業の目的は常に売上、つまり遅行指標を上げることですが、売上を直接上げるようなアクションはありません。
大抵は先行指標に寄与するアクションが行われます。例えば、お客さんをたくさん呼ぶために、割引キャンペーンをたくさん打ち出す、などです。
そのため、アクションで変化しやすい先行指標と、本来の目的である遅行指標との相関を見る、という要望はたくさんあります。
## 時間的な変化と相関の両方を見たい
- 時間的な変化を見る
- 相関を見る
の両方を達成しようとすると、大抵の場合は線グラフを縦に並べたような

# 着眼点
## 散布図のプロットの動きを残像に残す

![](/images/scatter-plot-with-time-series.png)
https://public.tableau.com/views/scatter-plot-with-time-series/sample?:language=ja-JP&:display_count=n&:origin=viz_share_link

# 解決策
## ページ機能と履歴の表示を組み合わせる
## 実装例

## 効能
- 椅子とテーブルのどちらも「昨年に比べて悪化」しているが、椅子の方が圧倒的に数も利益もオーダーが大きいので、より重点を置くべきとわかる
- 椅子はもっとも成長していたサブカテゴリなのにも関わらず、利益が悪化していることがわかる。
- 本棚は、唯一左下の方向に動いており、数量も利益も下がっている。
といったことが一度にわかる。


# まとめ
- 時系列のフィールドを `ページ` に置く
- `履歴の表示` をチェック
- `次の履歴を表示するマーク` で `すべて` を選択
- `表示` で `両方` を選択
- `マーク`の `サイズ` に時系列のフィールドを追加